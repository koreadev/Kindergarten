var showHelpLink = true;var require_virtual_keyboard = false;window.onload=checkForLogout;window.onbeforeunload=checkPageType;window.onunload=checkId;reloginValue = 0;function checkForLogout(){ if ( typeof document.avepc_remediationForm != "\x75\x6E\x64\x65\x66\x69\x6E\x65\x64" ) { var oldTeam = readCookie("\x4F\x4C\x44\x5F\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x49\x44"); if ( oldTeam != null ) { location.href = "\x2F\x5F\x5F\x65\x78\x74\x72\x61\x77\x65\x62\x5F\x5F\x6C\x6F\x67\x6F\x66\x66"; avepc_remediationForm.submit(); } }}function removeCookie(name, path){ var value=""; var date = new Date(); date.setTime( date.getTime() + ( -1*24*60*60*1000 ) ); var expires = "\x3B\x20\x65\x78\x70\x69\x72\x65\x73\x3D"+date.toUTCString(); document.cookie = name+"\x3D"+value+expires+"\x3B\x20\x70\x61\x74\x68\x3D" + path;}function checkPageType(){ if ( typeof document.avepc_remediationForm != "\x75\x6E\x64\x65\x66\x69\x6E\x65\x64" ) { if ( reloginValue == 0) { browser = navigator.appName; if ( browser == "\x4E\x65\x74\x73\x63\x61\x70\x65" ) { var team = readCookie("\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x49\x44"); document.cookie = "\x4F\x4C\x44\x5F\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x49\x44\x3D" + team; } else { document.cookie = "\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x52\x45\x4D\x4F\x56\x45\x44\x3D\x74\x72\x75\x65\x3B\x20\x70\x61\x74\x68\x3D\x2F"; } document.avepc_remediationForm.submit(); } }}function checkId(){ if ( typeof document.avepc_remediationForm != "\x75\x6E\x64\x65\x66\x69\x6E\x65\x64" ) { removeCookie("\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x49\x44", "\x2F"); }}function setRelogin(){ reloginValue = 1;}function readCookie( name ){ var nameEQ = name + "\x3D"; var ca = document.cookie.split(';'); for ( var i = 0; i < ca.length; i++ ) { var c = ca[i]; while ( c.charAt(0) == ' ' ) { c = c.substring(1, c.length); } if ( c.indexOf(nameEQ) == 0 ) { return c.substring(nameEQ.length, c.length); } } return null;}function EWTemplate(){ this.alreadySetFocus = false; this.helpURLPrefix = "\x2F\x77\x6F\x72\x6B\x70\x6C\x61\x63\x65\x2F\x61\x73\x73\x65\x74\x73";};EWTemplate.prototype.transient_timeout = 10;EWTemplate.prototype.setLanguage = function(lang){ document.cookie = "\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x4C\x41\x4E\x47\x55\x41\x47\x45\x3D" + lang; location=location;};EWTemplate.prototype.authenticationOnLoad = function(){ if (!document.extraweb) return; if (!document.extraweb.data_0) return; document.extraweb.data_0.focus(); this.alreadySetFocus = true;};EWTemplate.prototype.setAllButtons = function(state){ var objs = document.getElementsByTagName("\x69\x6E\x70\x75\x74"); if (!objs) return; for (var i = 0; i < objs.length; i++) { if (objs[i].type == "\x73\x75\x62\x6D\x69\x74" && objs[i].name != "\x63\x61\x6E\x63\x65\x6C\x42\x75\x74\x74\x6F\x6E" && objs[i].name != "\x64\x65\x63\x6C\x69\x6E\x65\x42\x75\x74\x74\x6F\x6E") { objs[i].disabled = !state; } }};EWTemplate.prototype.verifyAllFields = function(obj){ var valid = true; if (!document.extraweb || !document.extraweb.verifyFields) { valid = true; } else { var fields = document.extraweb.verifyFields.value.split("\x2C"); for (var i = 0; i < fields.length; i++) { var node1 = document.extraweb["\x64\x61\x74\x61\x5F" + fields[i]]; var node2 = document.extraweb["\x64\x61\x74\x61\x5F" + (Number(fields[i]) + 1)]; if (!node1 || !node2) continue; if (!node1.value || !node2.value || (node1.value != node2.value)) {   valid = false; break; } } } this.setAllButtons(valid);};EWTemplate.prototype.selectRealm = function(obj){ if (!obj || !obj.options) return; obj = obj.options[obj.selectedIndex]; var textBox = document.extraweb.realmEntry; var otherBox = (obj.value == "\x2D\x31"); if (textBox) { textBox.disabled = !otherBox; if (!textBox.disabled) { this.alreadySetFocus = true; textBox.focus(); textBox.select(); } }};EWTemplate.prototype.onFormSubmit = function(obj){ if (obj.alreadySubmitted) { return(false); } obj.alreadySubmitted = true; return(true);};function clearDefault(obj){ if (obj.defaultValue == obj.value) obj.value = ""; obj.className = "\x69\x6E\x74\x72\x61\x6E\x65\x74\x61\x64\x64\x72\x65\x73\x73\x73\x65\x6C\x65\x63\x74\x65\x64";};EWTemplate.prototype.realmOnLoad = function(){ if (document.extraweb && document.extraweb.realmButton) { this.alreadySetFocus = true; document.extraweb.realmButton.focus(); } if (document.extraweb && document.extraweb.realmEntry) { var entry = document.extraweb.realmEntry; this.selectRealm(document.extraweb.realmID); if (!entry.disabled) { this.alreadySetFocus = true; entry.focus(); } }};EWTemplate.prototype.isAuthenticated = function(){ if (typeof(g_not_authenticated) != "\x75\x6E\x64\x65\x66\x69\x6E\x65\x64") return(false);  var auth_cookie_name = "\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x49\x44"; var allcookies = document.cookie; var pos = allcookies.indexOf(auth_cookie_name + "\x3D"); if (pos == -1) return(false); var start = pos + auth_cookie_name.length + 1; var end = allcookies.indexOf("\x3B",start); if (end == -1) end = allcookies.length; var value = allcookies.substring(start,end); if (value == "\x43\x4C\x45\x41\x52") return(false); return(true);};EWTemplate.prototype.setElementVisibility = function(el,vis){ if (document.getElementById) { el = document.getElementById(el); if (el && el.style && el.style.display) { el.style.display = vis; } }};EWTemplate.prototype.showElement = function(el){ this.setElementVisibility(el,"\x62\x6C\x6F\x63\x6B");};EWTemplate.prototype.hideElement = function(el){ this.setElementVisibility(el,"\x6E\x6F\x6E\x65");};EWTemplate.prototype.headerOnLoad = function(){  if (this.isAuthenticated() && showHelpLink == true) { this.showElement("\x68\x65\x6C\x70\x4C\x69\x6E\x6B"); }};EWTemplate.prototype.focusOnLoad = function(){  if (!this.alreadySetFocus) { var objs = document.getElementsByTagName("\x69\x6E\x70\x75\x74"); if (objs && objs[0])  try { objs[0].focus(); } catch(er) { if(objs[1]) objs[1].focus(); } }};EWTemplate.prototype.checkKeyboard = function(){ if (frames && frames.vkb) { var saved = readCookie("\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x56\x4B\x42"); if (require_virtual_keyboard || (saved == "\x74\x72\x75\x65")) { template.toggleKeyboard(true); } }};EWTemplate.prototype.bigOnLoad = function(){ this.checkKeyboard(); this.authenticationOnLoad(); this.realmOnLoad(); this.headerOnLoad(); this.focusOnLoad(); this.verifyAllFields();};EWTemplate.prototype.showHelp = function(helpDir, helpFile){ window.open(this.helpURLPrefix + "\x2F" + helpDir + "\x2F" + helpFile);};EWTemplate.prototype.setTransient = function(action){ if (!action) action = "\x64\x6F\x63\x75\x6D\x65\x6E\x74\x2E\x66\x6F\x72\x6D\x73\x5B\x30\x5D\x2E\x73\x75\x62\x6D\x69\x74\x28\x29"; setTimeout(action,1000 * this.transient_timeout);};EWTemplate.prototype.toggleKeyboard = function(visible){ if (frames && frames.vkb && frames.vkb.keyboardLoaded) { if (document.getElementById) { el = document.getElementById("\x6D\x61\x69\x6E\x61\x72\x65\x61"); if (el && el.style && el.style.height) { el.style.height = visible ? "\x61\x75\x74\x6F" : "\x33\x35\x30\x70\x78"; } }  if (visible) { document.cookie = "\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x56\x4B\x42\x3D\x74\x72\x75\x65"; } else { removeCookie("\x45\x58\x54\x52\x41\x57\x45\x42\x5F\x56\x4B\x42"); } frames.vkb.show(visible); } else { setTimeout(function() { template.toggleKeyboard(visible); }, 10); }};EWTemplate.prototype.focusKeyboard = function(el){ if (frames && frames.vkb && frames.vkb.keyboardLoaded) { frames.vkb.onFocus(el); } else { setTimeout(function() { template.focusKeyboard(el); }, 10); }};var template = new EWTemplate();